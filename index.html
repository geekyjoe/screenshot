<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Screen Metrics</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .metric-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: #2563eb;
        }
        .metric-label {
            color: #666;
            margin-top: 5px;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        h1 {
            color: #1e3a8a;
            margin-bottom: 30px;
        }
        .recommendation-box {
            background: #1e3a8a;
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            font-size: 1.2em;
        }
        .measurements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        .measurement-item {
            background: white;
            padding: 10px;
            border-radius: 4px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        .category-title {
            font-weight: bold;
            color: #1e3a8a;
            margin: 20px 0 10px 0;
        }
    </style>
</head>
<body>
    <h1>Screen Metrics Dashboard</h1>
    
    <div class="recommendation-box">
        <div id="recommendationText">Your screen size for development shall be -</div>
    </div>

    <div class="grid">
        <div class="metric-card">
            <div class="metric-value" id="ppi">--</div>
            <div class="metric-label">Pixels per Inch (PPI)</div>
        </div>
        <div class="metric-card">
            <div class="metric-value" id="dpr">--</div>
            <div class="metric-label">Device Pixel Ratio (DPR)</div>
        </div>
        <div class="metric-card">
            <div class="metric-value" id="screenRes">--</div>
            <div class="metric-label">Screen Resolution</div>
        </div>
        <div class="metric-card">
            <div class="metric-value" id="viewportSize">--</div>
            <div class="metric-label">Viewport Size</div>
        </div>
    </div>

    <div class="category-title">Viewport Measurements</div>
    <div class="measurements-grid" id="viewportMeasurements">
        <!-- Filled by JavaScript -->
    </div>

    <div class="category-title">Window Measurements</div>
    <div class="measurements-grid" id="windowMeasurements">
        <!-- Filled by JavaScript -->
    </div>

    <div class="category-title">Screen Measurements</div>
    <div class="measurements-grid" id="screenMeasurements">
        <!-- Filled by JavaScript -->
    </div>

    <script>
        function calculatePPI() {
            const dpr = window.devicePixelRatio;
            const width = screen.width * dpr;
            const height = screen.height * dpr;
            const diagPixels = Math.sqrt(width * width + height * height);
            const assumedDiagonal = 13;
            return Math.round(diagPixels / assumedDiagonal);
        }

        function createMeasurementItem(label, value) {
            return `
                <div class="measurement-item">
                    <div style="color: #666;">${label}</div>
                    <div style="font-weight: bold;">${value}</div>
                </div>
            `;
        }

        function getDeviceCategory(width) {
            if (width < 576) return "Extra Small (Mobile)";
            if (width < 768) return "Small (Mobile/Tablet)";
            if (width < 992) return "Medium (Tablet/Small Desktop)";
            if (width < 1200) return "Large (Desktop)";
            return "Extra Large (Wide Desktop)";
        }

        function updateMetrics() {
            // Basic metrics
            const ppi = calculatePPI();
            document.getElementById('ppi').textContent = ppi;
            document.getElementById('dpr').textContent = window.devicePixelRatio.toFixed(2);
            document.getElementById('screenRes').textContent = `${screen.width} × ${screen.height}`;
            document.getElementById('viewportSize').textContent = `${window.innerWidth} × ${window.innerHeight}`;

            // Viewport measurements
            const viewportHTML = [
                createMeasurementItem('Viewport Width', `${window.innerWidth}px`),
                createMeasurementItem('Viewport Height', `${window.innerHeight}px`),
                createMeasurementItem('Visual Viewport Width', `${window.visualViewport ? window.visualViewport.width + 'px' : 'N/A'}`),
                createMeasurementItem('Visual Viewport Height', `${window.visualViewport ? window.visualViewport.height + 'px' : 'N/A'}`),
                createMeasurementItem('Dynamic Viewport Height (dvh)', `${window.innerHeight}px`),
                createMeasurementItem('Dynamic Viewport Width (dvw)', `${window.innerWidth}px`),
                createMeasurementItem('Small Viewport Height (svh)', `${window.innerHeight}px`),
                createMeasurementItem('Large Viewport Height (lvh)', `${window.innerHeight}px`)
            ].join('');
            document.getElementById('viewportMeasurements').innerHTML = viewportHTML;

            // Window measurements
            const windowHTML = [
                createMeasurementItem('Window Outer Width', `${window.outerWidth}px`),
                createMeasurementItem('Window Outer Height', `${window.outerHeight}px`),
                createMeasurementItem('Client Width', `${document.documentElement.clientWidth}px`),
                createMeasurementItem('Client Height', `${document.documentElement.clientHeight}px`),
                createMeasurementItem('Available Width', `${window.screen.availWidth}px`),
                createMeasurementItem('Available Height', `${window.screen.availHeight}px`)
            ].join('');
            document.getElementById('windowMeasurements').innerHTML = windowHTML;

            // Screen measurements
            const screenHTML = [
                createMeasurementItem('Screen Width', `${screen.width}px`),
                createMeasurementItem('Screen Height', `${screen.height}px`),
                createMeasurementItem('Color Depth', `${screen.colorDepth} bits`),
                createMeasurementItem('Pixel Depth', `${screen.pixelDepth} bits`),
                createMeasurementItem('Device Category', getDeviceCategory(window.innerWidth)),
                createMeasurementItem('Device Pixel Ratio', window.devicePixelRatio.toFixed(2))
            ].join('');
            document.getElementById('screenMeasurements').innerHTML = screenHTML;

            // Update recommendation
            const deviceCategory = getDeviceCategory(window.innerWidth);
            const recommendation = `Your screen size for development shall be - ${window.innerWidth}x${window.innerHeight} (${deviceCategory})
                \nPixel Ratio: ${window.devicePixelRatio.toFixed(2)}
                \nPPI: ${ppi}`;
            document.getElementById('recommendationText').textContent = recommendation;
        }

        // Initial update
        updateMetrics();

        // Update on resize with debounce
        window.addEventListener('resize', _.debounce(updateMetrics, 250));
    </script>
</body>
</html>
